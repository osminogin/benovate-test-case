{% extends "base.html" %}

{% block title %}{% trans "Test task for Benovate" %}{% endblock %}

{% block content %}

  <div class="card">
    <div class="card-body">
      <h5 class="card-title">{% trans "Make transaction" %}</h5>
      <p class="card-text">
        <form action="." method="post">
          {% csrf_token %}
          {% bootstrap_form form %}
          {% buttons %}
            <button type="submit" class="btn btn-success btn-block btn-lg">{% trans "Send money" %}</button>
          {% endbuttons %}
        </form>
      </p>
    </div>
  </div>

{% endblock %}

{% block header %}
  <style>
    .btn-success {
      margin-top: 2rem;
    }
  </style>
{% endblock %}

{% block extra %}
  <script>
    $('form').first().submit(function(e){
      e.preventDefault();
      url = $(this).attr('action');
      data = $(this).serialize();
      $.post(url, data, function(response){
        window.alert('Transaction was successful');
        $('form').first().trigger('reset');
      })
    })
  </script>
{% endblock %}
